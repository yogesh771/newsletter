@model NewLetter.Models.ResumeModel
@{
    Layout = null;
}
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>
        HTML to PDF - techumber
    </title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.12.0/semantic.min.css" />
</head>
<body>
    <!-- code goes here -->
    <!-- scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">
    </script>
    <script type="text/javascript" src="//cdn.rawgit.com/MrRio/jsPDF/master/dist/jspdf.min.js">
    </script>
    <script type="text/javascript" src="//cdn.rawgit.com/niklasvh/html2canvas/0.5.0-alpha2/dist/html2canvas.min.js">
    </script>  
    <script src="~/Content/app.js"></script>
   
</body>
</html>
@*<script type="text/javascript">
    $(document).ready(function () {
        createPDF();
        $('.mydiv').css('display', 'block');

    });
    function createPDF() {
        debugger
        var form = $('.mydiv'),
            
               cache_width = form.width(),
               a4 = [595.28, 1041.89];
        getCanvas().then(function (canvas)
        {
            var
            img = canvas.toDataURL("image/png"),
            doc = new jsPDF({
                unit: 'px',
                format: 'a4'
            });
            doc.addImage(img, 'JPEG', 20, 20);
            doc.save('qendidateResume.pdf');
            form.width(cache_width);
            @*window.location.href = '@Url.Action("Landing")';
        });
    };

    function html() {
        debugger
        var doc = new jsPDF('p', 'pt');
        var res = doc.autoTableHtmlToJson(table, true);
        doc.autoTable(res.columns, res.data);
        var pdf = doc.output(); //returns raw body of resulting PDF returned as a string as per the plugin documentation.
        var data = new FormData();
        data.append("data", pdf);
        var xhr = new XMLHttpRequest();
        xhr.open('post', 'gnpdf', true); //Post to php Script to save to server
        xhr.send(data);

    }
    html();

    // create canvas object
    function getCanvas() {
        debugger
        var form = $('.mydiv'),
               cache_width = form.width(),
               a4 = [595.28, 1041.89];
        debugger
        form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');
        return html2canvas(form, {
            imageTimeout: 2000,
            removeContainer: true
        });
    };
</script>*@
@*<script  type="text/javascript">
  
    //function demoFromHTML() {
    //        debugger
            //var pdf = new jsPDF('p', 'pt', 'letter');
            //// source can be HTML-formatted string, or a reference
            //// to an actual DOM element from which the text will be scraped.
            //source = $('.mydiv')[0];

            //// we support special element handlers. Register them with jQuery-style
            //// ID selector for either ID or node name. ("#iAmID", "div", "span" etc.)
            //// There is no support for any other type of selectors
            //// (class, of compound) at this time.
            //specialElementHandlers = {
            //    // element with id of "bypass" - jQuery style selector
            //    '#bypassme': function (element, renderer) {
            //        // true = "handled elsewhere, bypass text extraction"
            //        return true
            //    }
            //};
            //margins = {
            //    top: 80,
            //    bottom: 60,
            //    left: 40,
            //    width: 522
            //};
            //// all coords and widths are in jsPDF instance's declared units
            //// 'inches' in this case
            //pdf.fromHTML(
            //source, // HTML string or DOM elem ref.

            //margins.left, // x coord
            //margins.top, { // y coord
            //    'width': margins.width, // max width of content on PDF
            //    'elementHandlers': specialElementHandlers
            //},


            //function (dispose) {
            //    // dispose: object with X, Y of the last line add to the PDF
            //    //          this allow the insertion of new lines after html
            //    pdf.save('Test.pdf');
            //}, margins);
            //pdf.fromHTML($('#render_me').get(0), 15, 15, {
            //    'width': 170,
            //    'margin': 1,
            //    'pagesplit': true,
            //    'elementHandlers': elementHandler

        //});
    var source = window.document.getElementById('.mydiv');

            var pdf = new jsPDF('p', 'pt', 'a4');
            var canvas = pdf.canvas;
            canvas.height = 72 * 11;
            canvas.width = 72 * 8.5;
        //page break
            pdf.context2d.pageWrapYEnabled = true;

            html2pdf(source, pdf, function (pdf) {
                var iframe = document.createElement('iframe');
                iframe.setAttribute('style', 'position:fixed;right:0; top:0; bottom:0; height:100%; width:100%');
                document.body.appendChild(iframe);
                iframe.src = pdf.output('datauristring');
            }
            );
      
  
</script>*@

@*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">
</script>
<script src="~/css/jspdf.debug.js"></script>

<script type="text/javascript" src="//cdn.rawgit.com/niklasvh/html2canvas/0.5.0-alpha2/dist/html2canvas.min.js">
</script>*@

<style>
    body {
        margin: 0px;
        padding: 0px;
    }

    .mydiv {
        max-width: 900px;
        margin: 20px auto;
        padding: 15px;
    }

    h1 {
        font-size: 15px;
        padding: 0px;
        margin: 0px 0 5px;
        color: #fff;
        font-family: Arial, Helvetica, sans-serif;
    }

    .mydiv td {
        font-size: 14px;
        color: #000;
        font-family: Arial, Helvetica, sans-serif;
    }

    .lightblue {
        color: #A52A2A;
        font-size: 15px;
    }

    .right-b {
        border-right: 0px solid #483d8b;
    }

    .p-right {
        padding: 0 0px 0 0px;
    }

    .bgcolor {
        background: #1d2d48;
        padding: 10px;
        color: #fff;
        font-size: 15px;
    }

    .border-b {
        border-bottom: 1px solid #483d8b;
    }
</style>

@*<script type="text/javascript">
    var form = $('.form'),
    cache_width = form.width(),
    a4 = [595.28, 990.89]; // for a4 size paper width and height

    var canvasImage,
        winHeight = a4[1],
        formHeight = form.height(),
        formWidth = form.width();

    var imagePieces = [];

    // on create pdf button click
    function call() {
        debugger
        $('body').scrollTop(0);
        imagePieces = [];
        imagePieces.length = 0;
        main();
    }

    // main code
    function main() {
        getCanvas().then(function (canvas) {
            canvasImage = new Image();
            canvasImage.src = canvas.toDataURL("image/png");
            canvasImage.onload = splitImage;
        });
    }

    // create canvas object
    function getCanvas() {
        form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');
        return html2canvas(form, {
            imageTimeout: 2000,
            removeContainer: true
        });
    }

    // chop image horizontally
    function splitImage(e) {
        var totalImgs = Math.round(formHeight / winHeight);
        for (var i = 0; i < totalImgs; i++) {
            var canvas = document.createElement('canvas'),
                ctx = canvas.getContext('2d');
            canvas.width = formWidth;
            canvas.height = winHeight;
            //                    source region                   dest. region
            ctx.drawImage(canvasImage, 0, i * winHeight, formWidth, winHeight, 0, 0, canvas.width, canvas.height);

            imagePieces.push(canvas.toDataURL("image/png"));
        }
        console.log(imagePieces.length);
        createPDF();
    }

    // crete pdf using chopped images
    function createPDF() {
        var totalPieces = imagePieces.length - 1;
        var doc = new jsPDF({
            unit: 'px',
            format: 'a4'
        });
        imagePieces.forEach(function (img) {
            doc.addImage(img, 'JPEG', 20, 40);
            if (totalPieces)
                doc.addPage();
            totalPieces--;
        });
        doc.save('techumber-html-to-pdf.pdf');
        form.width(cache_width);
    }

</script>*@
<script>
    function PrintPanel() {
        debugger
        var html = document.getElementById('printD').innerHTML;
        var html1 = "p";
        $.ajax({
            url: 'PdfSharpConvert',
            type: 'POST',
            dataType: "string",
           
            success: function () { alert("");}

        });
    }
</script>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Resume</title>
</head>

<body>
   
    <div class='ui page grid'>
        <div class='wide column'>
            <h1 class='ui header aligned center'>
                HTML to PDF 2
            </h1>
            <div class='ui divider hidden'>
            </div>

            <div class='ui segment'>
                <div class='ui button aligned center teal' id='create_pdf' onclick='return PrintPanel();' >
                    Create PDF
                </div>
                <div class='ui divider'>
                </div>
                <form class='ui form' id='printD'>
                    <h4 class='ui dividing header'>
                        Personal Information
                    </h4>
                    <div class='two fields'>
                        <div class='field'>
                            <label for=''>First Name</label>
                            <input type='text' name='first-name' placeholder='First Name' />
                        </div>
                        <div class='field'>
                            <label for=''>Last Name</label>
                            <input type='text' name='last-name' placeholder='First Name' />
                        </div>
                    </div>
                    <div class='field'>
                        <label>Biography</label>
                        <textarea></textarea>
                    </div>
                    <div class='field'>
                        <label>Age</label>
                        <input type='number' placeholder='Age' />
                    </div>
                    <h4 class='ui dividing header'>
                        Account Info
                    </h4>
                    <div class='two fields'>
                        <div class='required field'>
                            <label>Username</label>
                            <div class='ui icon input'>
                                <input type='text' placeholder='Username' />
                                <i class='user icon'></i>
                            </div>
                        </div>
                        <div class='required field'>
                            <label>Password</label>
                            <div class='ui icon input'>
                                <input type='password' />
                                <i class='lock icon'></i>
                            </div>
                        </div>
                    </div>

                    <h4 class='ui dividing header'>
                        Account Info
                    </h4>
                    <div class='two fields'>
                        <div class='required field'>
                            <label>Username</label>
                            <div class='ui icon input'>
                                <input type='text' placeholder='Username' />
                                <i class='user icon'></i>
                            </div>
                        </div>
                        <div class='required field'>
                            <label>Password</label>
                            <div class='ui icon input'>
                                <input type='password' />
                                <i class='lock icon'></i>
                            </div>
                        </div>
                    </div>

                    <h4 class='ui dividing header'>Account Info</h4>
                    <div class='two fields'>
                        <div class='required field'>
                            <label>Username</label>
                            <div class='ui icon input'>
                                <input type='text' placeholder='Username' />
                                <i class='user icon'></i>
                            </div>
                        </div>
                        <div class='required field'>
                            <label>Password</label>
                            <div class='ui icon input'>
                                <input type='password' />
                                <i class='lock icon'></i>
                            </div>
                        </div>
                    </div>
                    <h4 class='ui dividing header'>
                        Account Info
                    </h4>
                    <div class='two fields'>
                        <div class='required field'>
                            <label>Username</label>
                            <div class='ui icon input'>
                                <input type='text' placeholder='Username' />
                                <i class='user icon'></i>
                            </div>
                        </div>
                        <div class='required field'>
                            <label>Password</label>
                            <div class='ui icon input'>
                                <input type='password' />
                                <i class='lock icon'></i>
                            </div>
                        </div>
                    </div>
                    <h4 class='ui dividing header'>Shipping Information</h4>
                    <div class='field'>
                        <label>Name</label>
                        <div class='two fields'>
                            <div class='field'>
                                <input type='text' name='shipping[first-name]' placeholder='First Name' />
                            </div>
                            <div class='field'>
                                <input type='text' name='shipping[last-name]' placeholder='Last Name' />
                            </div>
                        </div>
                    </div>
                    <div class='field'>
                        <label>Billing Address</label>
                        <div class='fields'>
                            <div class='twelve wide field'>
                                <input type='text' name='shipping[address]' placeholder='Street Address' />
                            </div>
                            <div class='four wide field'>
                                <input type='text' name='shipping[address-2]' placeholder='Apt #' />
                            </div>
                        </div>
                    </div>

                    <h4 class='ui dividing header'>
                        Full Name
                    </h4>

                    <div class='three fields'>
                        <div class='field'>
                            <label>First name</label>
                            <input type='text' placeholder='First Name' />
                        </div>
                        <div class='field'>
                            <label>Middle name</label>
                            <input type='text' placeholder='Middle Name' />
                        </div>
                        <div class='field'>
                            <label>Last name</label>
                            <input type='text' placeholder='Last Name' />
                        </div>
                    </div>



                    <h4 class='ui top attached header'>
                        Import Settings
                    </h4>
                    <div class='ui bottom attached segment'>
                        <div class='grouped fields'>
                            <label for='alone'>Would you like us to import your current settings?</label>
                            <div class='field'>
                                <div class='ui checkbox'>
                                    <input type='radio' checked='' name='import' />
                                    <label>Yes</label>
                                </div>
                            </div>
                            <div class='field'>
                                <div class='ui checkbox'>
                                    <input type='radio' name='import' />
                                    <label>No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h4 class='ui dividing header'>
                        Settings
                    </h4>
                    <h5 class='ui header'>
                        Privacy
                    </h5>
                    <div class='field'>
                        <div class='ui checkbox'>
                            <input type='radio' name='privacy' />
                            <label>Allow<b>anyone</b> to see my account</label>
                        </div>
                    </div>
                    <div class='field'>
                        <div class='ui checkbox'>
                            <input type='radio' name='privacy' />
                            <label>Allow<b>only friends</b> to see my account</label>
                        </div>
                    </div>
                    <h5 class='ui header'>
                        Newsletter Subscriptions
                    </h5>
                    <div class='field'>
                        <div class='ui checkbox'>
                            <input type='checkbox' name='top-posts' />
                            <label>Top Posts This Week</label>
                        </div>
                    </div>
                    <div class='field'>
                        <div class='ui checkbox'>
                            <input type='checkbox' name='hot-deals' />
                            <label>Hot Deals</label>
                        </div>
                    </div>
                    <div class='ui hidden divider'>
                    </div>
                    <div class='field'>
                        <div class='ui checkbox'>
                            <input type='checkbox' name='hot-deals' />
                            <label>I agree to the<a href='#'>Terms of Service</a>.</label>
                        </div>
                    </div>
                    <div class='ui error message'>
                        <div class='header'>
                            We noticed some issues
                        </div>
                    </div>
                    <div class='ui submit button blue'>
                        Register
                    </div>
                </form>
            </div>
        </div>
    </div>

        

    @*<div class='mydiv'>
        <table width='100%' border='0' cellspacing='0' cellpadding='0'>
            <tr>
                <td align="right"></td>
            </tr>
            <tr>
                <td align="right"><img src="~/Images/orion.png"></td>
            </tr>
            <tr>
                <td>
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tr><td width="29%" class="right-b bgcolor"><h1>Personal Details</h1></td></tr>
                        <tr>
                            <td width="71%">
                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">@Model.personainfo.qenName</td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">@Model.personainfo.qenEmail</td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">@Model.personainfo.qenPhone</td>
                                    </tr>

                                    <tr>
                                        <td height="30" class="p-right" align="left" valign="middle">@Model.personainfo.qenCurrCity</td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>


            <tr>
                <td>
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tr><td width="29%" class="right-b bgcolor"><h1>Education</h1></td></tr>
                        <tr><td height="5">&nbsp;</td></tr>
                        <tr>

                            <td width="71%" align="left" valign="top">
                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="top"><strong class="lightblue">High School Details</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">
                                            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="37%" height="30" align="left" valign="middle"><strong>Board Name</strong></td>
                                                    <td width="42%" align="left" valign="middle" class="p-right"><strong>Passing Year</strong></td>
                                                    <td width="21%" align="left" valign="middle" class="p-right"><strong>Percentage</strong></td>
                                                </tr>
                                                <tr>
                                                    <td height="30" align="left" valign="middle">@Model.educationinfo.secondary.secondaryBoard</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.secondary.secondaryPassYear</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.secondary.secondaryPercentage</td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle"><strong class="lightblue">Senior School Details</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">
                                            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="37%" height="30" align="left" valign="middle"><strong>Board Name</strong></td>
                                                    <td width="42%" align="left" valign="middle" class="p-right"><strong>Passing Year</strong></td>
                                                    <td width="21%" align="left" valign="middle" class="p-right"><strong>Percentage</strong></td>
                                                </tr>
                                                <tr>
                                                    <td height="30" align="left" valign="middle">@Model.educationinfo.hsecondary.hSecondaryBoard</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.hsecondary.hSecondaryPassYear</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.hsecondary.hSecondaryPercentage</td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle"><strong class="lightblue">Graduation Details</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="p-right" height="30" align="left" valign="middle">
                                            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="37%" height="30" align="left" valign="middle"><strong>College Name</strong></td>
                                                    <td width="42%" align="left" valign="middle" class="p-right"><strong>Course Name</strong></td>
                                                    <td width="21%" align="left" valign="middle" class="p-right"><strong>Percentage</strong></td>

                                                </tr>
                                                <tr>
                                                    <td height="30" align="left" valign="middle">@Model.educationinfo.graduation.collegeName</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.graduation.courseName</td>
                                                    <td class="p-right" align="left" valign="middle">@Model.educationinfo.graduation.gradPercentage</td>

                                                </tr>
                                            </table>
                                        </td>
                                    </tr>

                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>

            <tr>
                <td>
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tr><td width="29%" class="right-b bgcolor"><h1>Employment History</h1></td></tr>
                        <tr><td height="5">&nbsp;</td></tr>
                        <tr>

                            <td width="71%" align="left" valign="top">
                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    @if (Model.employmentinfo != null && Model.employmentinfo.Count > 0)
                                    {
                                        foreach (var item in Model.employmentinfo)
                                        {
                                            <tr>
                                                <td width="37%" height="30" align="left" valign="middle"><strong>Company Name</strong></td>
                                                <td width="42%" align="left" valign="middle" class="p-right"><strong>Position</strong></td>
                                                <td width="21%" align="left" valign="middle" class="p-right"><strong>From</strong></td>
                                                <td width="21%" align="left" valign="middle" class="p-right"><strong>To</strong></td>
                                            </tr>
                                            <tr>
                                                <td height="30" align="left" valign="middle">@item.CompanyName</td>
                                                <td class="p-right" align="left" valign="middle">@item.qenPosition</td>
                                                <td class="p-right" align="left" valign="middle">@item.qenEmpFrom</td>
                                                <td class="p-right" align="left" valign="middle">@item.qenEmpTo</td>
                                            </tr>
                                        }
                                    }
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>

            <tr>
                <td>
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tr><td width="29%" class="right-b bgcolor"><h1>Skills</h1></td></tr>
                        <tr><td height="5">&nbsp;</td></tr>
                        <tr>

                            <td width="71%" align="left" valign="top">
                                <table width="100%" border="0" cellspacing="0" cellpadding="0">


                                    <tr>
                                        <td width="37%" height="30" align="left" valign="middle"><strong></strong></td>

                                    </tr>



                                </table>
                            </td>
                        </tr>
                    </table>
                </td>




            </tr>


        </table>




    </div>*@

</body>
</html>
